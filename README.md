# Image Search API Service üñºÔ∏è

![PHP](https://img.shields.io/badge/PHP-8.3-777BB4?logo=php)
![Laravel](https://img.shields.io/badge/Laravel-12-FF2D20?logo=laravel)
![ElasticSearch](https://img.shields.io/badge/ElasticSearch-8.0-005571?logo=elasticsearch)
![Docker](https://img.shields.io/badge/Docker-‚úì-2496ED?logo=docker)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å API –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–ø–∏—Å–æ–∫.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üîç –£–º–Ω—ã–π –ø–æ–∏—Å–∫** - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –±—Ä–µ–Ω–¥–∞–º —á–µ—Ä–µ–∑ ElasticSearch
- **üñºÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- **üîê API —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏** - —Å–∏—Å—Ç–µ–º–∞ –∫–ª—é—á–µ–π —Å –ª–∏–º–∏—Ç–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - —Ñ–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ RabbitMQ
- **üìä –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- **üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ** - –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| **Backend** | Laravel 12, PHP 8.3, Nginx | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **–ü–æ–∏—Å–∫** | ElasticSearch | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ |
| **–û—á–µ—Ä–µ–¥–∏** | RabbitMQ | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL | –ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** | Redis | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker, Docker Compose | –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ |

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫
git clone https://github.com/vanyazaov/image-search-api-dev.git
cd image-search-api-dev
cd docker
docker compose up -d

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
docker compose exec -T mpv_app bash -c "cd /var/www/html && cp .env.dev .env"

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose exec -T mpv_app bash -c "cd /var/www/html && php artisan key:generate --force"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
docker compose exec mpv_app composer install
docker compose exec mpv_app php artisan migrate

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (admin@example.com / password)
docker compose exec -T mpv_app bash -c "cd /var/www/html && php artisan db:seed --force"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—á–µ—Ä–µ–¥—å
docker compose exec mpv_app php artisan queue:work

# –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∫–∞–∫ –∞–¥–º–∏–Ω –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
http://localhost/

# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏
chmod +x scripts/fix-permissions.sh
./scripts/fix-permissions.sh

# –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è –∏–Ω–¥–µ–∫—Å. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
docker compose exec mpv_app php artisan search:setup


# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

# —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
chmod +x scripts/test-setup.sh
./scripts/test-setup.sh
docker compose exec mpv_app php artisan test
```

## üîå API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```http
GET /api/v1/search?q=shoes&category=footwear&brand=nike
Headers: X-API-Key: your_api_key_here
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```http
GET /api/v1/images/{id}?w=800&h=600&q=85
Headers: X-API-Key: your_api_key_here
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
- **Event-Driven Design** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥–∏
- **RESTful API** - —á–∏—Å—Ç—ã–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ endpoints
- **Horizontal Scaling** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

[Ivan Zayashnikov] - [GitHub](https://github.com/vanyazaov)
